# Clinical Data
## Location
REDACTED

## Source

The clinical data elements come from the electronic health record (EHR) of Northwestern Medicine (NM).  NM uses the Epic EHR for its inpatient and outpatient data collection, and all data is sent each night to the Northwestern Medicine Enterprise Data Warehouse (NMEDW).  The NMEDW then performs data transformations, cleaning, and normalization into internal data structures.

Specifically for the SCRIPT study, [Gao, Markov, and Stoeger](https://www.jci.org/articles/view/170682) developed a curated subset of clinical data for the _CarpeDiem_ project.  A browser for the published _CarpeDiem_ dataset is available at REDACTED

The code used to prepare data for _CarpeDiem_ was adapted to be used for all SCRIPT participant data on an ongoing basis, and is used to prepare data for the hackathon.

> See REDACTED for additional information about the CarpeDiem dataset.
> 
> _CarpeDiem_: Modeling ICU EHR data and COVID-19<br/>
> Catherine A. Gao, MD<br/>
> July 2023

## Data Description

This is a cohort of critically ill patients from the Successful Clinical Response in Pneumonia Therapy (SCRIPT) study, a prospective single-center observational study of patients who were hospitalized in a medical ICU, required mechanical ventilation, and received a bronchoalveolar lavage (BAL) given suspicion for pneumonia. SCRIPT seeks to delineate the host/pathogen interactions during pneumonia using multiomic analysis of BAL fluid joined with clinical data and physician adjudication.

## Data Organization

Clinical data is recorded on per-day basis (hence the name _CarpeDiem_): for each patient in the cohort, for each day we summarize each EHR measurement and report it. If a patient didn't have a particular EHR measurement on a given day, we report `NA`. This dataset consists of 691 patients with 15306 total ICU-days. 

| Column name                             | Description
|---------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|   
| **Index -- DO NOT USE**                             | Patient_id/ICU_stay/ICU_day - **There is an issue with this column.  You are able to reconstruct it using Patient_id/ICU_stay/ICU_day from the rest of the columns, but this column itself should not be used**                                                                                                                                                                                                                                                                                                          |
|   &nbsp;                                    |                                                                                                                                                                                                                                                                                                                                      |
| Patient_id                            | Anonymized patient study ID                                                                                                                                                                                                                                                                                                          |
|   &nbsp;                                    |                                                                                                                                                                                                                                                                                                                                      |
| **Demographics and outcomes**             |                                                                                                                                                                                                                                                                                                                                      |
| External_transfer_flag                | 0/1 flag set if the patient was transferred from an external facility into an NM facility for this hospitalization. [0 is False, 1 is True]                                                                                                                                                                                          |
| Admission_source_name                 | Where the patient came from before being admitted for this hospitalization (e.g., From Home/Work).  This is pulled from EHR, but can be NULL if not documented.                                                                                                                                                                      |
| Discharge_disposition                 | Disposition of where they were discharged to, as recorded in EHR                                                                                                                                                                                                                                                                     |
| Binary_outcome                        | 0/1 flag of whether the patient had a good (home, rehab, SNF, LTACH - 0) or bad (died or categorized as died, hospice - 1) outcome this admission.                                                                                                                                                                                   |
| Global_cause_failure                  | Clinician adjudication of patient's entire hospitalization outcome, if felt to be unsuccessful treatment of pneumonia                                                                                                                                                                                                                |
| Patient_category                      | What category of pneumonia clinician adjudications felt the patient belonged to, (Non-Pneumonia Control, COVID-19, Other pneumonia, Other viral pneumonia), see manuscript for additional adjudication details                                                                                                                       |
| COVID_status                          | True/false flag of whether patient had COVID                                                                                                                                                                                                                                                                                         |
| Age                                   | Age, except those >=89 years old are aggregated into a group per Safe Harbor deidentification guidelines; this group is  labeled 91                                                                                                                                                                                                  |
| Ethnicity                             | Ethnicity                                                                                                                                                                                                                                                                                                                            |
| Gender                                | Gender                                                                                                                                                                                                                                                                                                                               |
| Race                                  | Race; groups with fewer than five individuals were censored to ‘Unknown or Not Reported’ to protect patient anonymity.                                                                                                                                                                                                               |
| Smoking_status                        | Smoking status                                                                                                                                                                                                                                                                                                                       |
| BMI                                   | Body mass index [kg/m^2]                                                                                                                                                                                                                                                                                                             |
| Cumulative_intubation_days            | Total number of days intubated during hospitalization                                                                                                                                                                                                                                                                                |
| Number_of_ICU_stays                   | Number of ICU stays                                                                                                                                                                                                                                                                                                                  |
| Cumulative_ICU_days                   | Total number of days that the patient spent in the ICU                                                                                                                                                                                                                                                                               |
| Admit_SOFA_score                      | Sequential Organ Failure Assessment [SOFA] score using worst values in first two days                                                                                                                                                                                                                                                |
| Admit_APS_score                       | Acute physiology score [APS] score (from APACHE IV) using worse values in first two days                                                                                                                                                                                                                                                              |
| Tracheostomy_flag                     | 0/1 flag of whether patient had tracheostomy [0 is False, 1 is True], flag for through out the ICU stay instead of admission time                                                                                                                                                                                                                                                                 |
| Immunocompromised_flag                     | 0/1 flag of whether patient was immunocompromised [0 is False, 1 is True], as determined by the research team                                                                                                                                                                                                                                                                 |
|    &nbsp;                                   |                                                                                                                                                                                                                                                                                                                                      |
| **Per-day clinical parameters**           |                                                                                                                                                                                                                                                                                                                                      |
| ICU_stay                              | Which ICU stay this is (a patient may have multiple ICU stays in one hospitalization)                                                                                                                                                                                                                                                |
| ICU_day                               | What day of the current ICU stay this is (initial day is day 1, with next day starting at 12.00 a.m.)                                                                                                                                                                                                                                |
| SOFA_score                            | Sequential Organ Failure Assessment (SOFA) score                                                                                                                                                                                                                                                                                     |
| ECMO_flag                             | 0/1 flag whether the patient was on ECMO this day [0 is False, 1 is True]                                                                                                                                                                                                                                                            |
| Intubation_flag                       | 0/1 flag whether the patient was intubated this day [0 is False, 1 is True]                                                                                                                                                                                                                                                          |
| Hemodialysis_flag                     | 0/1 flag if patient received dialysis on a given day [0 is False, 1 is True]                                                                                                                                                                                                                                                         |
| CRRT_flag                             | 0/1 flag if patient received continuous renal replacement therapy this day [0 is False, 1 is True]                                                                                                                                                                                                                                   |
| Temperature                           | Mean body temperature [degrees Fahrenheit]                                                                                                                                                                                                                                                                                           |
| Heart_rate                            | Mean heart rate                                                                                                                                                                                                                                                                                                                      |
| Systolic_blood_pressure               | Mean systolic blood pressure [mmHg]                                                                                                                                                                                                                                                                                                  |
| Diastolic_blood_pressure              | Mean diastolic blood pressure [mmHg]                                                                                                                                                                                                                                                                                                 |
| Mean_arterial_pressure                | Lowest mean arterial pressure [mmHg]                                                                                                                                                                                                                                                                                                   |
| Norepinephrine_flag                   | 0/1 flag whether the patient was receiving norepinephrine  [0 is False, 1 is True]                                                                                                                                                                                                                                                   |
| Norepinephrine_rate                   | Highest norepinephrine rate [mcg/kg/min]                                                                                                                                                                                                                                                                                             |
| Respiratory_rate                      | Mean respiratory rate                                                                                                                                                                                                                                                                                                                |
| Oxygen_saturation                     | Mean oxygen saturation [%]                                                                                                                                                                                                                                                                                                           |
| Urine_output                          | Urine output [cc]                                                                                                                                                                                                                                                                                                                    |
| GCS_eye_opening                       | Minimum Glascow Coma Scale eye-opening score                                                                                                                                                                                                                                                                                         |
| GCS_motor_response                    | Minimum Glascow Coma Scale motor response score                                                                                                                                                                                                                                                                                      |
| GCS_verbal_response                   | Minimum Glascow Coma Scale verbal response score                                                                                                                                                                                                                                                                                     |
| RASS_score                            | Median Richmond Agitation Sedation Scale score                                                                                                                                                                                                                                                                                       |
| PEEP                                  | Mean positive end-expiratory pressure [cm H2O]                                                                                                                                                                                                                                                                                       |
| FiO2                                  | Mean fraction inspired oxygen [%]                                                                                                                                                                                                                                                                                                    |
| Plateau_Pressure                      | Mean plateau pressure [cm H2O]                                                                                                                                                                                                                                                                                                       |
| Lung_Compliance                       | Mean lung compliance [L/cm H2O]                                                                                                                                                                                                                                                                                                      |
| Minute_Ventilation                    | Mean ventilation volume over one minute (Exhaled_Vt_ml * Total_Respirations) [mL/min] |
| PEEP_changes                          | Number of changes to PEEP on the ventilator                                                                                                                                                                                                                                                                                          |
| Respiratory_rate_changes              | Number of changes to respiratory rate on the ventilator                                                                                                                                                                                                                                                                              |
| FiO2_changes                          | Number of changes to FiO2 on the ventilator                                                                                                                                                                                                                                                                                          |
| ABG_pH                                | Arterial blood gas pH                                                                                                                                                                                                                                                                                                                |
| ABG_PaCO2                             | Arterial blood gas PaCO2 [mm Hg]                                                                                                                                                                                                                                                                                                     |
| ABG_PaO2                              | Arterial blood gas PaO2 [mm Hg]                                                                                                                                                                                                                                                                                                      |
| PaO2FIO2_ratio                        | Worst PaO2 / FiO2                                                                                                                                                                                                                                                                                                                    |
| WBC_count                             | Mean white blood cell count [K/UL]                                                                                                                                                                                                                                                                                                   |
| Lymphocytes                           | Mean absolute lymphocyte count [K/UL]                                                                                                                                                                                                                                                                                                |
| Neutrophils                           | Mean absolute neutrophil count [K/UL]                                                                                                                                                                                                                                                                                                |
| Hemoglobin                            | Mean hemoglobin [g/dL]                                                                                                                                                                                                                                                                                                               |
| Platelets                             | Lowest platelet value [K/UL]                                                                                                                                                                                                                                                                                                         |
| Bicarbonate                           | Mean bicarbonate [mmol/L]                                                                                                                                                                                                                                                                                                            |
| Creatinine                            | Highest creatinine [mg/dL]                                                                                                                                                                                                                                                                                                           |
| Albumin                               | Mean albumin [g/dL]                                                                                                                                                                                                                                                                                                                  |
| Bilirubin                             | Highest bilirubin lab result (part of SOFA score) [mg/dL]                                                                                                                                                                                                                                                                            |
| CRP                                   | Mean CRP [mg/L]                                                                                                                                                                                                                                                                                                                      |
| D_dimer                               | Mean D-Dimer [ng/mL D-DU]                                                                                                                                                                                                                                                                                                            |
| Ferritin                              | Mean ferritin [ng/mL]                                                                                                                                                                                                                                                                                                                |
| LDH                                   | Mean LDH [units/L]                                                                                                                                                                                                                                                                                                                   |
| Lactic_acid                           | Mean lactic acid [mmol/L]                                                                                                                                                                                                                                                                                                            |
| Procalcitonin                         | Mean procalcitonin [ng/mL]                                                                                                                                                                                                                                                                                                           |
| &nbsp;                                      |                                                                                                                                                                                                                                                                                                                                      |
| **Medication information** |  |
| NAT_score | Composite Narrow Antibiotic Therapy [NAT] spectrum score, see https://www.atsjournals.org/doi/full/10.1164/rccm.202106-1354OC |
| Steroid_dose | Total daily dose of steroids, covnerted to hydrocortisone-equivalents [mg], see https://rebelem.com/rebel-review/rebel-review-46-steroid-conversion-chart/steroid-conversion-chart/ |
| Tocilizumab_received | Binary 1/0 flag [0 is False, 1 is True] of whether patient received tocilizumab this day |
| Sarilumab_received | Binary 1/0 flag [0 is False, 1 is True] of whether patient received sarilumab this day |
| Sarilumab_study_drug_received | Binary 1/0 flag [0 is False, 1 is True] of whether patient received a study drug (either sarilumab or placebo) this day |
| Remdesivir_received | Binary 1/0 flag [0 is False, 1 is True] of whether patient received remdesivir this day |
| Remdesivir_study_drug_received | Binary 1/0 flag [0 is False, 1 is True] of whether patient received a study drug (either remdesivir or placebo) this day |
| &nbsp; |  |
| **Pneumonia episode information** | See [Pickens et al., 2023](https://academic.oup.com/ofid/article/10/7/ofad336/7216823) for the adjudication protocol |
| Episode_id | Unique ID of pneumonia episodes or non-pneumonia BALs. Present for all days of the adjudicated episodes, when episode duration is known (usually bacterial or cured viral episodes). Useful to group or select ICU days belonging to pneumonia episodes. |
| Episode_category                      | What type of pneumonia the patient had (CAP - community acquired pneumonia, HAP - hospital acquired pneumonia, VAP - ventilator associated pneumonia, Non-PNA-ctrl - Non-pneumonia control) for the episode that started that day; note that adjudication process began with study enrollment date, which may be some time into the actual ICU course. |
| Episode_etiology                      | What type of episode was defined (bacterial, viral, both bacterial and viral, or culture-negative<sup>a</sup>)                                                                                                                                                                                                                                   |
| Episode_is_cured                      | Whether clinician adjudication panel felt the pneumonia episode was cured                                                                                                                                                                                                                                                            |
| Episode_duration                      | How many days the pneumonia episode lasted, only calculated for bacterial or viral/bacterial episodes; viral-only episodes may have duration set to NA                                                                                                                                                                                          |
| Episode_clinical_impression_d7 | Clinician adjudication panel impression on the pneumonia episode status at day 7 or 8 of the episode |
| Episode_clinical_impression_d10 | Clinician adjudication panel impression on the pneumonia episode status at day 10 of the episode |
| Episode_clinical_impression_d14 | Clinician adjudication panel impression on the pneumonia episode status at day 14 of the episode |
| &nbsp; |  |
| **BAL information** |  |
| BAL_performed                               | True/false of whether patient had a BAL (as a clinical procedure) this day  |
| sample_id | ID of BAL sample for linking to single-cell, flow cytometry and cytokine assay data. As this is a research sample, it is not guaranteed to be available after every clinical procedure.  Therefore, there may be instances where `BAL_performed` is TRUE and this field is NULL, meaning no research sample was available. |
| BAL_amylase | Amylase level [units/L] detected on BAL, see https://pubmed.ncbi.nlm.nih.gov/23314582/ |
| BAL_pct_neutrophils | Percentage of neutrophils in BAL fluid, clinical analysis |
| BAL_pct_macrophages | Percentage of macrophages in BAL fluid, clinical analysis |
| BAL_pct_monocytes | Percentage of monocytes in BAL fluid, clinical analysis |
| BAL_pct_lymphocytes | Percentage of lymphocytes in BAL fluid, clinical analysis |
| BAL_pct_eosinophils | Percentage of eosinophils in BAL fluid, clinical analysis |
| BAL_pct_plasma_cells | Percentage of plasma cells in BAL fluid, clinical analysis |
| BAL_pct_other | Percentage of other cells in BAL fluid, clinical analysis |
| Pathogen_results | JSON-encoded results of BAL pathogen testing, combined from PCR testing ([Biofire pneumonia panel](https://www.biofiredx.com/products/the-filmarray-panels/filmarray-pneumonia/), culture and fungal smear pathogen analyses. For details see [below](#pathogen-information). |
| Pathogen_virus_detected | True/false if any virus was detected in BAL with PCR |
| Pathogen_bacteria_detected | True/false if any bacteria was detected in BAL with PCR or culture with CFU >= 1000 |
| Pathogen_fungi_detected | True/false if any fungi was detected in BAL with Fungal smear |
| Pathogen_resistance_detected | True/false if any antibiotic resistance marker was detected in BAL with PCR or culture |

<sup>a</sup> Etiology is an adjudicated field of five critical care physicians' consensus. Culture-negative may better be descirbed as 'micro-negative' as we take into account PCR results from Biofire when adjudicating this column. These are where the physicians still suspected pneumonia due to abnormal imaging, ventilator parameters, etc, but where no specific pathogen was resulted. `Pathogen_results` may still have text from non-pathogenic results such as Candida or Normal Flora.

## Pathogen information

Dataset column `Pathogen_results` contains JSON-encoded data about pathogens. The JSON format is this:
```js
{
  "pcr": {
    // list of detected viruses, optional
    ?"virus": string[],
    // list of detected bacteria, optional
    ?"bacteria": string[],
    // list of detected resistance markers, optional
    ?"resistance": string[]
  },
  // list of bacteria objects
  "culture": <bacteria>[],
  // list of fungus objects
  "fungal": <fungus>[]
}

bacteria = {
  "name": string,
  // number of colony-forming units
  "cfu": int,
  // comma-separated list of resistance markers or `false`
  "resistance": false | string
}

fungus = {
  "name": string,
  // text representation of quantity: rare, few, moderate, many; or `NA` for `not available`
  "quantity": string
}
```
**NB:** bacteria names and resistance markers are not normalized between PCR and culture results.
